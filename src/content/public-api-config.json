{
  "version": "1.0.0",
  "title": "MediaJel Public API",
  "description": "GraphQL API for managing advertising campaigns, organizations, and campaign orders on the MediaJel platform.",
  "baseUrl": "https://api.mediajel.com",
  "categories": [
    {
      "id": "auth",
      "name": "Authentication",
      "description": "Authenticate and obtain JWT tokens for API access.",
      "icon": "lock"
    },
    {
      "id": "organizations",
      "name": "Organizations",
      "description": "Query and manage advertising organizations.",
      "icon": "building"
    },
    {
      "id": "campaign-orders",
      "name": "Campaign Orders",
      "description": "Query campaign orders (line items) including budgets, schedules, and status.",
      "icon": "clipboard-list"
    },
    {
      "id": "line-items",
      "name": "Line Items",
      "description": "Query line items with detailed performance metrics and targeting configuration.",
      "icon": "list"
    },
    {
      "id": "campaigns",
      "name": "Campaigns",
      "description": "Query advertising campaigns and their configuration.",
      "icon": "megaphone"
    }
  ],
  "operations": {
    "mutations": {
      "authSignIn": {
        "category": "auth",
        "description": "Authenticate with your Cognito credentials to obtain JWT tokens. The returned `accessToken` is used in the `Authorization: Bearer <token>` header, and your organization ID is sent in the `Key` header for all subsequent requests.",
        "exampleVariables": {
          "data": {
            "username": "developer@example.com",
            "password": "your-password"
          }
        },
        "exampleQuery": "mutation SignIn($data: AuthSignInInput!) {\n  authSignIn(data: $data) {\n    accessToken\n    idToken\n    refreshToken\n  }\n}",
        "exampleResponse": {
          "data": {
            "authSignIn": {
              "accessToken": "eyJraWQiOiJ...",
              "idToken": "eyJraWQiOiJ...",
              "refreshToken": "eyJjdHkiOiJ..."
            }
          }
        }
      }
    },
    "queries": {
      "org": {
        "category": "organizations",
        "description": "Retrieve a single organization by its unique ID. Returns organization details including name, website, logo, status, and parent organizations.",
        "exampleVariables": {
          "where": {
            "id": "clx1234567890"
          }
        },
        "exampleQuery": "query GetOrg($where: OrgWhereUniqueInput!) {\n  org(where: $where) {\n    id\n    name\n    website\n    logo {\n      id\n      url\n    }\n    status\n    parentOrg {\n      id\n      name\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "org": {
              "id": "clx1234567890",
              "name": "Acme Cannabis Co",
              "website": "https://acmecannabis.com",
              "logo": {
                "id": "clxMEDIA00001",
                "url": "https://cdn.mediajel.com/logos/acme.png"
              },
              "status": "ACTIVE",
              "parentOrg": [
                {
                  "id": "clx0000000001",
                  "name": "Acme Holdings"
                }
              ]
            }
          }
        }
      },
      "orgs": {
        "category": "organizations",
        "description": "List organizations with optional filtering by name, status, or parent org. Supports pagination via `first`, `skip`, `after`, and `before` parameters.",
        "exampleVariables": {
          "where": {
            "status": "ACTIVE"
          },
          "first": 10,
          "orderBy": "name_ASC"
        },
        "exampleQuery": "query ListOrgs($where: OrgWhereInput, $first: Int, $orderBy: OrgOrderByInput) {\n  orgs(where: $where, first: $first, orderBy: $orderBy) {\n    id\n    name\n    website\n    status\n  }\n}",
        "exampleResponse": {
          "data": {
            "orgs": [
              {
                "id": "clx1234567890",
                "name": "Acme Cannabis Co",
                "website": "https://acmecannabis.com",
                "status": "ACTIVE"
              }
            ]
          }
        }
      },
      "orgsConnection": {
        "category": "organizations",
        "description": "Paginated organization listing with connection metadata. Use this for cursor-based pagination with total count.",
        "exampleVariables": {
          "first": 10
        },
        "exampleQuery": "query OrgsConnection($first: Int) {\n  orgsConnection(first: $first) {\n    edges {\n      node {\n        id\n        name\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    aggregate {\n      count\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "orgsConnection": {
              "edges": [
                {
                  "node": { "id": "clx1234567890", "name": "Acme Cannabis Co" },
                  "cursor": "cjx1234567890"
                }
              ],
              "pageInfo": {
                "hasNextPage": true,
                "endCursor": "cjx1234567890"
              },
              "aggregate": { "count": 42 }
            }
          }
        }
      },
      "campaign": {
        "category": "campaigns",
        "description": "Retrieve a single campaign by its unique ID. Returns campaign details including status, associated organizations, campaign order, and line items.",
        "exampleVariables": {
          "where": {
            "id": "clx9876543210"
          }
        },
        "exampleQuery": "query GetCampaign($where: CampaignWhereUniqueInput!) {\n  campaign(where: $where) {\n    id\n    name\n    status\n    orgs {\n      id\n      name\n    }\n    campaignOrder {\n      id\n      name\n      status\n    }\n    lineItems {\n      id\n      name\n      status\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaign": {
              "id": "clx9876543210",
              "name": "Summer Sale 2024",
              "status": "LIVE",
              "orgs": [
                {
                  "id": "clx1234567890",
                  "name": "Acme Cannabis Co"
                }
              ],
              "campaignOrder": {
                "id": "clxAAAA000001",
                "name": "Display - West Coast",
                "status": "LIVE"
              },
              "lineItems": [
                {
                  "id": "clxLINE000001",
                  "name": "Display - California",
                  "status": "PLAY"
                }
              ]
            }
          }
        }
      },
      "campaigns": {
        "category": "campaigns",
        "description": "List campaigns with optional filtering by name, status, or organization. Supports pagination via `first`, `skip`, `after`, and `before` parameters.",
        "exampleVariables": {
          "where": {
            "status": "LIVE"
          },
          "first": 10,
          "orderBy": "createdAt_DESC"
        },
        "exampleQuery": "query ListCampaigns($where: CampaignWhereInput, $first: Int, $orderBy: CampaignOrderByInput) {\n  campaigns(where: $where, first: $first, orderBy: $orderBy) {\n    id\n    name\n    status\n    orgs {\n      id\n      name\n    }\n    createdAt\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaigns": [
              {
                "id": "clx9876543210",
                "name": "Summer Sale 2024",
                "status": "LIVE",
                "orgs": [
                  {
                    "id": "clx1234567890",
                    "name": "Acme Cannabis Co"
                  }
                ],
                "createdAt": "2024-06-01T00:00:00.000Z"
              }
            ]
          }
        }
      },
      "campaignsConnection": {
        "category": "campaigns",
        "description": "Paginated campaign listing with connection metadata. Use this for cursor-based pagination with total count.",
        "exampleVariables": {
          "first": 10
        },
        "exampleQuery": "query CampaignsConnection($first: Int) {\n  campaignsConnection(first: $first) {\n    edges {\n      node {\n        id\n        name\n        status\n        orgs {\n          id\n          name\n        }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    aggregate {\n      count\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaignsConnection": {
              "edges": [
                {
                  "node": {
                    "id": "clx9876543210",
                    "name": "Summer Sale 2024",
                    "status": "LIVE",
                    "orgs": [
                      {
                        "id": "clx1234567890",
                        "name": "Acme Cannabis Co"
                      }
                    ]
                  },
                  "cursor": "cjx9876543210"
                }
              ],
              "pageInfo": {
                "hasNextPage": true,
                "endCursor": "cjx9876543210"
              },
              "aggregate": { "count": 87 }
            }
          }
        }
      },
      "campaignOrder": {
        "category": "campaign-orders",
        "description": "Retrieve a single campaign order by its unique ID. Returns campaign order details including type, KPI metrics, reporting data from `pacingData` and `aggregateData`.",
        "exampleVariables": {
          "where": {
            "id": "clxAAAA000001"
          }
        },
        "exampleQuery": "query GetCampaignOrder($where: CampaignOrderWhereUniqueInput!) {\n  campaignOrder(where: $where) {\n    id\n    name\n    type\n    kpi\n    kpiGoal\n    advertiserName\n    startDate\n    endDate\n    budget\n    status\n    campaigns {\n      id\n      name\n    }\n    orgs {\n      id\n      name\n    }\n    pacingData {\n      totalImpressions\n      dailyAvgImpressions\n      budgetSpent\n      budgetLeft\n      daysLeft\n      daysIntoFlight\n      pace\n      paceYesterday\n      ctr\n      roas\n    }\n    aggregateData {\n      overallData {\n        aggImpressions\n        aggClicks\n        aggCost\n        aggTotalCost\n        aggEvents\n        aggTransactions\n        aggTotalRevenue\n      }\n      byDate\n    }\n    createdAt\n    updatedAt\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaignOrder": {
              "id": "clxAAAA000001",
              "name": "Display - West Coast",
              "type": "DISPLAY",
              "kpi": "CPM",
              "kpiGoal": 6.5,
              "advertiserName": "Acme Cannabis Co",
              "startDate": "2024-06-01T00:00:00.000Z",
              "endDate": "2024-08-31T00:00:00.000Z",
              "budget": 5000.0,
              "status": "LIVE",
              "campaigns": [
                {
                  "id": "clx9876543210",
                  "name": "Summer Sale 2024"
                }
              ],
              "orgs": [
                {
                  "id": "clx1234567890",
                  "name": "Acme Cannabis Co"
                }
              ],
              "pacingData": {
                "totalImpressions": 520000,
                "dailyAvgImpressions": 8500,
                "budgetSpent": 3200.0,
                "budgetLeft": 1800.0,
                "daysLeft": 22,
                "daysIntoFlight": 69,
                "pace": 1.05,
                "paceYesterday": 1.03,
                "ctr": 0.12,
                "roas": 3.4
              },
              "aggregateData": {
                "overallData": {
                  "aggImpressions": 520000,
                  "aggClicks": 624,
                  "aggCost": 3200.0,
                  "aggTotalCost": 3200.0,
                  "aggEvents": { "purchase": 45 },
                  "aggTransactions": 12,
                  "aggTotalRevenue": 10880.0
                },
                "byDate": null
              },
              "createdAt": "2024-05-15T00:00:00.000Z",
              "updatedAt": "2024-08-09T12:00:00.000Z"
            }
          }
        }
      },
      "campaignOrders": {
        "category": "campaign-orders",
        "description": "List campaign orders (line items) with optional filtering by name, status, campaign, or organization. Supports pagination via `first`, `skip`, `after`, and `before` parameters. Includes reporting fields like `pacingData` and `aggregateData`.",
        "exampleVariables": {
          "where": {
            "status": "LIVE"
          },
          "first": 10,
          "orderBy": "startDate_DESC"
        },
        "exampleQuery": "query ListCampaignOrders($where: CampaignOrderWhereInput, $first: Int, $orderBy: CampaignOrderOrderByInput) {\n  campaignOrders(where: $where, first: $first, orderBy: $orderBy) {\n    id\n    name\n    type\n    kpi\n    kpiGoal\n    advertiserName\n    startDate\n    endDate\n    budget\n    status\n    campaigns {\n      id\n      name\n    }\n    orgs {\n      id\n      name\n    }\n    pacingData {\n      totalImpressions\n      dailyAvgImpressions\n      budgetSpent\n      budgetLeft\n      daysLeft\n      pace\n      ctr\n      roas\n    }\n    aggregateData {\n      overallData {\n        aggImpressions\n        aggClicks\n        aggCost\n        aggTotalCost\n        aggEvents\n        aggTransactions\n        aggTotalRevenue\n      }\n      byDate\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaignOrders": [
              {
                "id": "clxAAAA000001",
                "name": "Display - West Coast",
                "type": "DISPLAY",
                "kpi": "CPM",
                "kpiGoal": 6.5,
                "advertiserName": "Acme Cannabis Co",
                "startDate": "2024-06-01T00:00:00.000Z",
                "endDate": "2024-08-31T00:00:00.000Z",
                "budget": 5000.0,
                "status": "LIVE",
                "campaigns": [
                  {
                    "id": "clx9876543210",
                    "name": "Summer Sale 2024"
                  }
                ],
                "orgs": [
                  {
                    "id": "clx1234567890",
                    "name": "Acme Cannabis Co"
                  }
                ],
                "pacingData": {
                  "totalImpressions": 520000,
                  "dailyAvgImpressions": 8500,
                  "budgetSpent": 3200.0,
                  "budgetLeft": 1800.0,
                  "daysLeft": 22,
                  "pace": 1.05,
                  "ctr": 0.12,
                  "roas": 3.4
                },
                "aggregateData": {
                  "overallData": {
                    "aggImpressions": 520000,
                    "aggClicks": 624,
                    "aggCost": 3200.0,
                    "aggTotalCost": 3200.0,
                    "aggEvents": { "purchase": 45 },
                    "aggTransactions": 12,
                    "aggTotalRevenue": 10880.0
                  },
                  "byDate": null
                }
              }
            ]
          }
        }
      },
      "campaignOrdersConnection": {
        "category": "campaign-orders",
        "description": "Paginated campaign orders with connection metadata. Use this for cursor-based pagination with total count. Includes reporting fields like `pacingData` and `aggregateData`.",
        "exampleVariables": {
          "first": 10
        },
        "exampleQuery": "query CampaignOrdersConnection($first: Int) {\n  campaignOrdersConnection(first: $first) {\n    edges {\n      node {\n        id\n        name\n        type\n        kpi\n        kpiGoal\n        advertiserName\n        status\n        budget\n        pacingData {\n          totalImpressions\n          budgetSpent\n          budgetLeft\n          pace\n          ctr\n        }\n        aggregateData {\n          overallData {\n            aggImpressions\n            aggClicks\n            aggCost\n            aggTotalRevenue\n          }\n        }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    aggregate {\n      count\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "campaignOrdersConnection": {
              "edges": [
                {
                  "node": {
                    "id": "clxAAAA000001",
                    "name": "Display - West Coast",
                    "type": "DISPLAY",
                    "kpi": "CPM",
                    "kpiGoal": 6.5,
                    "advertiserName": "Acme Cannabis Co",
                    "status": "LIVE",
                    "budget": 5000.0,
                    "pacingData": {
                      "totalImpressions": 520000,
                      "budgetSpent": 3200.0,
                      "budgetLeft": 1800.0,
                      "pace": 1.05,
                      "ctr": 0.12
                    },
                    "aggregateData": {
                      "overallData": {
                        "aggImpressions": 520000,
                        "aggClicks": 624,
                        "aggCost": 3200.0,
                        "aggTotalRevenue": 10880.0
                      }
                    }
                  },
                  "cursor": "cjxAAAA000001"
                }
              ],
              "pageInfo": {
                "hasNextPage": true,
                "endCursor": "cjxAAAA000001"
              },
              "aggregate": { "count": 128 }
            }
          }
        }
      },
      "lineItem": {
        "category": "line-items",
        "description": "Retrieve a single line item by its unique ID. Returns line item details including performance metrics and targeting data.",
        "exampleVariables": {
          "where": {
            "id": "clxLINE000001"
          }
        },
        "exampleQuery": "query GetLineItem($where: LineItemWhereUniqueInput!) {\n  lineItem(where: $where) {\n    id\n    name\n    campaign {\n      id\n      name\n    }\n    budgetTotal\n    startDate\n    endDate\n    status\n    cpm\n    clicks\n    impressions\n    ctr\n    aggregateData {\n      overallData {\n        aggImpressions\n        aggClicks\n        aggCost\n        aggTotalCost\n        aggEvents\n        aggTransactions\n        aggTotalRevenue\n      }\n      byDate\n    }\n    createdAt\n    updatedAt\n  }\n}",
        "exampleResponse": {
          "data": {
            "lineItem": {
              "id": "clxLINE000001",
              "name": "Display - California",
              "campaign": {
                "id": "clx9876543210",
                "name": "Summer Sale 2024"
              },
              "budgetTotal": 2500.0,
              "startDate": "2024-06-01T00:00:00.000Z",
              "endDate": "2024-08-31T00:00:00.000Z",
              "status": "PLAY",
              "cpm": 6.2,
              "clicks": 312,
              "impressions": 260000,
              "ctr": 0.12,
              "aggregateData": {
                "overallData": {
                  "aggImpressions": 260000,
                  "aggClicks": 312,
                  "aggCost": 1612.0,
                  "aggTotalCost": 1612.0,
                  "aggEvents": { "purchase": 23 },
                  "aggTransactions": 6,
                  "aggTotalRevenue": 5440.0
                },
                "byDate": null
              },
              "createdAt": "2024-05-15T00:00:00.000Z",
              "updatedAt": "2024-08-09T12:00:00.000Z"
            }
          }
        }
      },
      "lineItems": {
        "category": "line-items",
        "description": "List line items with optional filtering by name, status, or campaign. Supports pagination via `first`, `skip`, `after`, and `before` parameters.",
        "exampleVariables": {
          "where": {
            "status": "PLAY"
          },
          "first": 10,
          "orderBy": "startDate_DESC"
        },
        "exampleQuery": "query ListLineItems($where: LineItemWhereInput, $first: Int, $orderBy: LineItemOrderByInput) {\n  lineItems(where: $where, first: $first, orderBy: $orderBy) {\n    id\n    name\n    campaign {\n      id\n      name\n    }\n    budgetTotal\n    startDate\n    endDate\n    status\n    cpm\n    clicks\n    impressions\n    ctr\n    aggregateData {\n      overallData {\n        aggImpressions\n        aggClicks\n        aggCost\n        aggTotalRevenue\n      }\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "lineItems": [
              {
                "id": "clxLINE000001",
                "name": "Display - California",
                "campaign": {
                  "id": "clx9876543210",
                  "name": "Summer Sale 2024"
                },
                "budgetTotal": 2500.0,
                "startDate": "2024-06-01T00:00:00.000Z",
                "endDate": "2024-08-31T00:00:00.000Z",
                "status": "PLAY",
                "cpm": 6.2,
                "clicks": 312,
                "impressions": 260000,
                "ctr": 0.12,
                "aggregateData": {
                  "overallData": {
                    "aggImpressions": 260000,
                    "aggClicks": 312,
                    "aggCost": 1612.0,
                    "aggTotalRevenue": 5440.0
                  }
                }
              }
            ]
          }
        }
      },
      "lineItemsConnection": {
        "category": "line-items",
        "description": "Paginated line items with connection metadata. Use this for cursor-based pagination with total count.",
        "exampleVariables": {
          "first": 10
        },
        "exampleQuery": "query LineItemsConnection($first: Int) {\n  lineItemsConnection(first: $first) {\n    edges {\n      node {\n        id\n        name\n        status\n        budgetTotal\n        cpm\n        impressions\n        clicks\n        ctr\n        aggregateData {\n          overallData {\n            aggImpressions\n            aggClicks\n            aggCost\n            aggTotalRevenue\n          }\n        }\n      }\n      cursor\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    aggregate {\n      count\n    }\n  }\n}",
        "exampleResponse": {
          "data": {
            "lineItemsConnection": {
              "edges": [
                {
                  "node": {
                    "id": "clxLINE000001",
                    "name": "Display - California",
                    "status": "PLAY",
                    "budgetTotal": 2500.0,
                    "cpm": 6.2,
                    "impressions": 260000,
                    "clicks": 312,
                    "ctr": 0.12,
                    "aggregateData": {
                      "overallData": {
                        "aggImpressions": 260000,
                        "aggClicks": 312,
                        "aggCost": 1612.0,
                        "aggTotalRevenue": 5440.0
                      }
                    }
                  },
                  "cursor": "cjxLINE000001"
                }
              ],
              "pageInfo": {
                "hasNextPage": true,
                "endCursor": "cjxLINE000001"
              },
              "aggregate": { "count": 64 }
            }
          }
        }
      }
    }
  },
  "authentication": {
    "type": "cognito",
    "headers": {
      "Authorization": "Bearer <accessToken>",
      "Key": "<organizationId>"
    },
    "tokenLifetime": "1 hour",
    "refreshStrategy": "Use refreshToken to obtain new accessToken when expired"
  },
  "rateLimits": {
    "requestsPerMinute": 60,
    "keyedBy": "Key header (organization ID)",
    "headers": {
      "X-RateLimit-Limit": "Maximum requests per window",
      "X-RateLimit-Remaining": "Remaining requests in current window",
      "X-RateLimit-Reset": "Unix timestamp when the window resets"
    }
  }
}
